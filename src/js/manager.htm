<!--{wrap}-->
<div class="panel panel-default aw-sitemap">
    <div class="panel-heading text-center">
        <h3 class="panel-title pull-left">
            Страницы сайта
        </h3>

        <span data-wait="show">
            <img src="/images/loading.gif"/> Загрузка...
        </span>

        <div class="clearfix"></div>
    </div>

    <div class="panel-body">
        <div id="{i#body}"></div>
    </div>
</div>

<!--{widget}-->
<div class="aw-sitemap manager">
    <div class="loading " data-wait="show">
        <img src="/images/loading.gif"/> Идет загрузка данных <br/> Пожалуйста, подождите...
    </div>

    <div data-wait="hide">

        <div class="list-group">
            <div class="list-group-item">
                <a href="/" target="_blank"
                   title="Открыть для просмотра в новом окне">
                    Главная страница сайта
                </a>

                <div class="btn-toolbar pull-right">
                    <a href="#" class="btn btn-success btn-xs"
                       data-url="create(0)"
                       title="Добавить">
                        <i class="fa fa-plus-circle"></i>
                    </a>

                    <a href="#" class="btn btn-primary btn-xs"
                       data-url="root.edit"
                       title="Редактировать">
                        <i class="fa fa-pencil-square-o"></i>
                    </a>

                    <a href="/" target="_blank" class="btnItemGo btn btn-default btn-xs"
                       title="Открыть для просмотра в новом окне">
                        <i class="fa fa-external-link"></i>
                    </a>

                </div>
            </div>

        </div>

        <h4>Меню и элементы</h4>

        <div id="{i#list}"></div>
    </div>
</div>

<!--{table}-->
<div class="list-group">{v#rows}</div>

<!--{rowMenu}-->
<div class="list-group-item" data-id="{v#id}" data-type="menu">

    <i class="fa fa-folder-o" title="Ссылка"></i> &nbsp;

    <a href="{v#url}" target="_blank"
       title="Открыть для просмотра в новом окне">
        {v#title}
    </a>

    <div class="pull-right removeContainer"></div>

    <table class="pull-right buttonsContainer">
        <tbody>
        <tr>
            {v#childButtons}

            <td class="btn-toolbar">
                <a href="#" class="btn btn-success btn-xs"
                   data-url="create({v#id})"
                   title="Добавить">
                    <i class="fa fa-plus-circle"></i>
                </a>

                <a href="#" class="btn btn-primary btn-xs"
                   data-url="menu.edit({v#id})"
                   title="Редактировать">
                    <i class="fa fa-pencil-square-o"></i>
                </a>

                <button data-click="showRemoveMenu" class="btnItemRemove btn btn-danger btn-xs"
                        data-id="{v#id}"
                        title="Удалить элемент">
                    <i class="fa fa-trash-o"></i>
                </button>

                <a href="{v#url}" target="_blank" class=" btnItemGo btn btn-default btn-xs"
                   title="Открыть для просмотра в новом окне">
                    <i class="fa fa-external-link"></i>
                </a>
            </td>

            {v#upDownButtons}
        </tr>
        </tbody>
    </table>

    <div class="clearfix"></div>

    {v#childList}
</div>

<!--{rowPage}-->
<div class="list-group-item" data-id="{v#id}" data-type="page">

    <i class="fa fa-file-text-o" title="Страница"></i> &nbsp;

    <a href="{v#url}" target="_blank"
       title="Открыть для просмотра в новом окне">{v#title}</a>

    <div class="pull-right removeContainer"></div>

    <table class="pull-right buttonsContainer">
        <tbody>
        <tr>
            <td class="btn-toolbar">
                <a href="#" class="btn btn-primary btn-xs"
                   data-url="page.edit({v#id})"
                   title="Редактировать">
                    <i class="fa fa-pencil-square-o"></i>
                </a>

                <button data-click="showRemovePage" class="btnItemRemove btn btn-danger btn-xs"
                        data-id="{v#id}"
                        title="Удалить элемент">
                    <i class="fa fa-trash-o"></i>
                </button>

                <a href="{v#url}" target="_blank" class="btnItemGo btn btn-default btn-xs"
                   title="Открыть для просмотра в новом окне">
                    <i class="fa fa-external-link"></i>
                </a>
            </td>
        </tr>
        </tbody>
    </table>

    <div class="clearfix"></div>
</div>

<!--{rowLink}-->
<div class="list-group-item" data-id="{v#id}" data-type="link">

    <i class="fa fa-link" title="Ссылка"></i> &nbsp;

    <a href="{v#url}" target="_blank"
       title="Открыть для просмотра в новом окне">{v#title}</a>

    <div class="pull-right removeContainer"></div>

    <table class="pull-right buttonsContainer">
        <tbody>
        <tr>
            <td class="btn-toolbar">
                <a href="#" class="btn btn-primary btn-xs"
                   data-url="link.edit({v#id})"
                   title="Редактировать">
                    <i class="fa fa-pencil-square-o"></i>
                </a>

                <button data-click="showRemoveLink" class="btnItemRemove btn btn-danger btn-xs"
                        data-id="{v#id}"
                        title="Удалить элемент">
                    <i class="fa fa-trash-o"></i>
                </button>

                <a href="{v#url}" target="_blank" class=" btnItemGo btn btn-default btn-xs"
                   title="Открыть для просмотра в новом окне">
                    <i class="fa fa-external-link"></i>
                </a>
            </td>
            {v#upDownButtons}
        </tr>
        </tbody>
    </table>
    <div class="clearfix"></div>
</div>

<!--{childButtons}-->
<td class="childButtons btn-toolbar">
    <button class="{v#isHideShow} btn btn-default btn-xs" type="button"
            data-id="{v#id}"
            data-click="showChilds"
            title="Развернуть элементы">

        <i class="fa fa-plus"></i> Развернуть ({v#count})
    </button>
    <button class="{v#isHideHide} btn btn-default btn-xs" type="button"
            data-id="{v#id}"
            data-click="hideChilds"
            title="Свернуть элементы">

        <i class="fa fa-minus"></i> Свернуть ({v#count})
    </button>
</td>

<!--{upDownButtons}-->
<td class="upDownButtons btn-toolbar">
    <button class="btn btn-info btn-xs" type="button"
            data-id="{v#id}"
            data-click="moveUp"
            {v#disabledUp}
            title="Переместить вверх">

        <i class="fa fa-arrow-up"></i>
    </button>

    <button class="btn btn-info btn-xs" type="button"
            data-id="{v#id}"
            data-click="moveDown"
            {v#disabledDown}
            title="Переместить вниз">
        <i class="fa fa-arrow-down"></i>
    </button>
</td>

<!--{menuRemove}-->
<div class="alert alert-danger">
    <span>
        Вы действительно хотите удалить элемент меню со всем его содержимым?
        &nbsp;
    </span>

    <div class="btn-group pull-right">
        <button class="btn btn-danger btn-xs" type="button"
                data-id="{v#id}" data-type="menu"
                data-click="removeMenu">
            Удалить
        </button>
        <button class="btn btn-default btn-xs" type="button"
                data-id="{v#id}" data-type="menu"
                data-click="closeRemoveMenu">
            Отмена
        </button>
    </div>
</div>

<!--{pageRemove}-->
<div class="alert alert-danger">
    <span>
        Вы действительно хотите удалить страницу? &nbsp;
    </span>

    <div class="btn-group pull-right">
        <button class="btn btn-danger btn-xs" type="button"
                data-id="{v#id}" data-type="page"
                data-click="removePage">
            Удалить
        </button>
        <button class="btn btn-default btn-xs" type="button"
                data-id="{v#id}" data-type="page"
                data-click="closeRemovePage">
            Отмена
        </button>
    </div>
</div>

<!--{linkRemove}-->
<div class="alert alert-danger">
    <span>
        Вы действительно хотите удалить ссылку? &nbsp;
    </span>

    <div class="btn-group pull-right">
        <button class="btn btn-danger btn-xs" type="button"
                data-id="{v#id}" data-type="link"
                data-click="removeLink">
            Удалить
        </button>
        <button class="btn btn-default btn-xs" type="button"
                data-id="{v#id}" data-type="link"
                data-click="closeRemoveLink">
            Отмена
        </button>
    </div>
</div>
